<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Super Mario Invaders</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

        <link href="/menuStyle.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>

        <div class="paralsec2"></div>
        <div class="paralsec"></div>
        <div class="jumbotron paral">
            <h1 class="display-3">Super Mario Invaders</h1>
            <p class="lead">Bring back the old school feeling.</p>
        </div>

        <div>
            <nav class="navbar navbar-expand-sm bg-dark">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" id="button1" href="/intro" target="action">INTRODUCTION</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="button2" href="/how-to-play" target="action">HOW TO PLAY</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="button3" href="/items" target="action">ITEMS</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="button4" href="/enemies" target="action">ENEMIES</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="button5" href="/list-games" target="action">LEADERBOARD</a>
                    </li>

                    <li class="dropdown order-1">
                        <button type="button" id="dropdownMenu1" data-toggle="dropdown" class="btn btn-outline-secondary dropdown-toggle">Login <span class="caret"></span></button>
                        <ul class="dropdown-menu dropdown-menu-right mt-2">
                            <li class="px-3 py-2">
                                <form class="form" role="form" th:action="@{/login}" th:object="${userDTO}" action="#" method="POST">
                                    <div class="form-group">
                                        <input id="usernameInput" th:field="*{username}" name="username" placeholder="User" class="form-control form-control-sm" type="text" required="">
                                        <span class="error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username error</span>
                                    </div>
                                    <div class="form-group">
                                        <input id="passwordInput" th:field="*{password}" name="password" placeholder="Password" class="form-control form-control-sm" type="password" required="">
                                        <span class="error" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password error</span>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary btn-block">Login</button>
                                    </div>
                                    <div class="form-group text-center">
                                        <small><a href="#" data-toggle="modal" data-target="#modalPassword">Forgot password?</a></small>
                                    </div>
                                </form>
                            </li>
                        </ul>
                    </li>

                    <li class="dropdown order-1">
                        <button type="button" id="dropdownMenu2" data-toggle="dropdown" class="btn btn-outline-secondary dropdown-toggle">Register <span class="caret"></span></button>
                        <ul class="dropdown-menu dropdown-menu-right mt-2">
                            <li class="px-3 py-2">
                                <form class="form" role="form" th:object="${userDTO}" th:action="@{/register}" action="#" method="POST">
                                    <p>New User:<p>
                                    <div class="form-group">
                                        <input id="regUsernameInput" th:field="*{username}" name="username" placeholder="User" class="form-control form-control-sm" type="text" required="">
                                        <span class="error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</span>
                                    </div>
                                    <div class="form-group">
                                        <input id="regPasswordInput" th:field="*{password}" name="password" placeholder="Password" class="form-control form-control-sm" type="password" required="">
                                        <span class="error" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</span>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary btn-block">Create Account</button>
                                    </div>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>


        <!-- The Modal -->
        <div class="modal fade" id="modalPassword" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
            <div class="modal-container">
                <div class="loginmodal-container vertical-align-center">
                    <h1>Forgot your password?</h1><br>
                    <form role="form" th:action="@{/send-password}" th:object="${userDTO}" onsubmit="emailSent()" action="#" method="POST">
                        <label>Username:</label>
                        <div class="form-group">
                            <input id="usernameInput" th:field="*{username}" name="username" placeholder="User" class="form-control form-control-sm" type="text" required="">
                            <span class="error" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username error</span>
                        </div>
                        <label>Email:</label>
                        <div class="form-group">
                            <input id="emailInput" th:field="*{emailAddress}" name="email" placeholder="Email" class="form-control form-control-sm" type="email" required="">
                            <span class="error" th:if="${#fields.hasErrors('emailAddress')}" th:errors="*{emailAddress}">Username error</span>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-block">Send</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <iframe id="iframe" src="/intro" name="action"></iframe>
        <div class="paralsec3"></div>
        <div class="jumbotron2">
            <div>
                <table id="table">
                    <thead>
                        <tr>
                            <td id="header">Contact</td>
                            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                            <td id="header">Design</td>
                            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                            <td id="header">Follow</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td id="content">+34 91-111-22-333</td>
                            <td></td>
                            <td id="content">Ivan Teba Rodriguez 2ÂºDAM</td>
                            <td></td>
                            <td id="content"><a id="content" href="#">Twitter</a></td>
                        </tr>
                        <tr>
                            <td id="content">65-333-22-111</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td id="content"><a id="content" href="#">Instagram</a></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td id="content"><a id="content" href="#">Facebook</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <script>
            $(function () {
                $("#button1").click(function () {
                    changeUrl('intro', '/introduction');
                });
                $("#button2").click(function () {
                    changeUrl('howtoplay', '/how-to-play');
                });
                $("#button3").click(function () {
                    changeUrl('items', '/items');
                });
                $("#button4").click(function () {
                    changeUrl('enemies', '/enemies');
                });
                $("#button5").click(function () {
                    changeUrl('leaderboard', '/leaderboard');
                });
            });

            function changeUrl(page, url) {
                if (typeof (history.pushState) !== "undefined") {
                    var obj = {Page: page, Url: url};
                    history.pushState(obj, obj.Page, obj.Url);
                } else {
                    alert("Browser does not support HTML5.");
                }
            }

            var jumboHeight = $('.jumbotron').outerHeight();
            var jumboHeight2 = $('.jumbotron2').outerHeight();
            function parallax() {
                var scrolled = $(window).scrollTop();
                $('.paralsec').css('height', (jumboHeight - scrolled) + 'px');
                $('.paralsec2').css('height', (jumboHeight - scrolled) + 'px');
            }

            $(window).scroll(function (e) {
                parallax();
            });

        </script>
    </body>

</html>